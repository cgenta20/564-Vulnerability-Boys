from pyngrok import ngrok
from threading import Thread
from time import sleep
import socket

HOST = 'localhost'
PORT = 4321

server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

server_socket.bind((HOST, PORT))

server_socket.listen()

client_socket1, client_address1 = server_socket.accept()
print("Connected 1: ", client_address1)
client_socket2, client_address2 = server_socket.accept()
print("Connected 2: ", client_address2)


while True:
    data = client_socket1.recv(1024)
    if not data:
        break
    
    client_socket2.sendall(data)


client_socket1.close()
client_socket2.close()
server_socket.close()
